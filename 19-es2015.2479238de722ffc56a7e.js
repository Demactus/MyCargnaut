(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{QNcV:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("fXoL"),i=n("UbJi"),r=n("CcaC");let s=(()=>{class t{constructor(t,e){this.auth=t,this.userservice=e}register(t){return new Promise((e,n)=>{this.auth.createUserWithEmailAndPassword(t.email,t.password).then(n=>{e(n),this.userservice.persist(n.user.uid,t.title,t.fname,t.lname,t.street,t.housenumber,t.postalcode,t.city,t.email)},t=>n(t))})}login(t){return new Promise((e,n)=>{this.auth.signInWithEmailAndPassword(t.email,t.password).then(t=>e(t),t=>n(t))})}checkAuthState(){return this.auth.authState}SignOut(){return this.auth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(i.a),o.Tb(r.a))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},hE1G:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));class o{constructor(t,e,n,o,i,r,s,a,c,l,h,b,u,d,p,g){this.start=i,this.goal=r,this.date=s,this.startTime=a,this.length=c,this.height=l,this.weight=h,this.pricePerKg=b,this.seat=u,this.pricePerSeat=d,this.cargonaut=t,this.vehicle=e,this.passengerList=n,this.articleList=o,this.id=g,this.status=p}}},nrS2:function(t,e,n){"use strict";n.r(e),n.d(e,"DualSearchPageModule",(function(){return p}));var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),s=n("tyNb"),a=n("fXoL"),c=n("I/3d"),l=n("rawN"),h=n("B1tq");const b=[{path:"",component:(()=>{class t{constructor(t,e,n,o){this.router=t,this.firestore=e,this.formBuilder=n,this.shipmentService=o,this.errorMessage="",this.successMessage="",this.shipmentList=[],this.VALIDATION_MESSAGES={postalCode:[{type:"required",message:"Postleitzahl ist erforderlich."},{type:"minlength",message:"Postleitzahl muss mindestens 5 Zahlen enthalten"}],datum:[{type:"required",message:"Datum ist erforderlich."}]}}ngOnInit(){this.validationsForm=this.formBuilder.group({seats:new i.b(""),startAddress:new i.b(""),toAddress:new i.b(""),date:new i.b(""),weight:new i.b("")})}search(t){console.log("search called"),this.shipmentService.searchBoth(t.startAddress,t.toAddress,t.date,t.seats).forEach(e=>{let n;n=e,n.forEach(e=>{e.weight<=t.weight&&this.shipmentList.push(e)}),this.router.navigate(["search-result"],{state:{shipmentList:this.shipmentList}}),console.log(e)})}navigateToLogin(){this.router.navigate(["/login"])}navigateToRegister(){this.router.navigate(["/register"])}navigateToHome(){this.router.navigate(["/home"])}}return t.\u0275fac=function(e){return new(e||t)(a.Kb(s.g),a.Kb(c.a),a.Kb(i.a),a.Kb(l.a))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-dual-search"]],decls:74,vars:1,consts:[["id","main-content",1,"ion-page"],["src","assets/CargoLogo.PNG",3,"click"],["slot","primary"],[3,"click"],["id","regBtn",3,"click"],["auto-hide","false"],[1,"formRow"],["size","1"],[1,"form",3,"formGroup","ngSubmit"],["opacity","1"],[1,"formControl"],["placeholder","1","formControlName","seats"],["value","1"],["value","2"],["value","3"],["value","4"],[2,"opacity","revert"],["type","text","required","","placeholder","Stadt, PLZ","formControlName","startAddress"],["type","text","required","","placeholder","Stadt, PLZ","formControlName","toAddress"],["type","text","required","","placeholder","YYYY-MM-DD","formControlName","date"],["size","2"],["size","5"],["type","submit","expand","block",1,"submit-btn"],["size","4"]],template:function(t,e){1&t&&(a.Lb(0,"app-menu-header"),a.Pb(1,"div",0),a.Pb(2,"ion-header"),a.Pb(3,"ion-toolbar"),a.Pb(4,"img",1),a.Xb("click",(function(){return e.navigateToHome()})),a.Ob(),a.Pb(5,"ion-buttons",2),a.Pb(6,"ion-button",3),a.Xb("click",(function(){return e.navigateToLogin()})),a.nc(7,"Login"),a.Ob(),a.Pb(8,"ion-button",4),a.Xb("click",(function(){return e.navigateToRegister()})),a.nc(9,"Registieren"),a.Ob(),a.Lb(10,"ion-menu-button",5),a.Ob(),a.Ob(),a.Ob(),a.Pb(11,"ion-content"),a.Pb(12,"ion-row",6),a.Lb(13,"ion-col",7),a.Pb(14,"ion-col"),a.Pb(15,"form",8),a.Xb("ngSubmit",(function(){return e.search(e.validationsForm.value)})),a.Pb(16,"ion-row"),a.Pb(17,"ion-col"),a.Pb(18,"ion-row"),a.Pb(19,"h3",9),a.nc(20,"Anzahl:"),a.Ob(),a.Ob(),a.Pb(21,"ion-row",10),a.Pb(22,"ion-select",11),a.Pb(23,"ion-select-option",12),a.nc(24,"1"),a.Ob(),a.Pb(25,"ion-select-option",13),a.nc(26,"2"),a.Ob(),a.Pb(27,"ion-select-option",14),a.nc(28,"3"),a.Ob(),a.Pb(29,"ion-select-option",15),a.nc(30,"4"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Lb(31,"ion-col",7),a.Pb(32,"ion-col"),a.Pb(33,"ion-row"),a.Pb(34,"h3",16),a.nc(35,"von:"),a.Ob(),a.Ob(),a.Pb(36,"ion-row",10),a.Lb(37,"ion-input",17),a.Ob(),a.Ob(),a.Lb(38,"ion-col",7),a.Pb(39,"ion-col"),a.Pb(40,"ion-row"),a.Pb(41,"h3",16),a.nc(42,"nach:"),a.Ob(),a.Ob(),a.Pb(43,"ion-row",10),a.Lb(44,"ion-input",18),a.Ob(),a.Ob(),a.Ob(),a.Pb(45,"ion-row"),a.Pb(46,"ion-col"),a.Pb(47,"ion-row"),a.Pb(48,"h3",16),a.nc(49,"Datum:"),a.Ob(),a.Ob(),a.Pb(50,"ion-row",10),a.Lb(51,"ion-input",19),a.Ob(),a.Ob(),a.Lb(52,"ion-col",20),a.Pb(53,"ion-col"),a.Pb(54,"ion-row"),a.Pb(55,"h3",9),a.nc(56,"Anzahl:"),a.Ob(),a.Ob(),a.Pb(57,"ion-row",10),a.Pb(58,"ion-select",11),a.Pb(59,"ion-select-option",12),a.nc(60,"1"),a.Ob(),a.Pb(61,"ion-select-option",13),a.nc(62,"2"),a.Ob(),a.Pb(63,"ion-select-option",14),a.nc(64,"3"),a.Ob(),a.Pb(65,"ion-select-option",15),a.nc(66,"4"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(67,"ion-row"),a.Lb(68,"ion-col",21),a.Pb(69,"ion-col",20),a.Pb(70,"ion-button",22),a.nc(71,"Angaben zu Objekt"),a.Ob(),a.Ob(),a.Lb(72,"ion-col",23),a.Ob(),a.Ob(),a.Ob(),a.Lb(73,"ion-col",7),a.Ob(),a.Ob(),a.Ob()),2&t&&(a.Ab(15),a.ec("formGroup",e.validationsForm))},directives:[h.a,r.t,r.L,r.i,r.h,r.B,r.q,r.F,r.p,i.n,i.i,i.d,r.G,r.U,i.h,i.c,r.H,r.v,r.V,i.l],styles:["img[_ngcontent-%COMP%]{margin-top:8px;margin-left:15px;margin-bottom:8px;height:57px}.formRow[_ngcontent-%COMP%]{background:#000;border-radius:20px;margin-left:60px;margin-right:60px;margin-top:30px;opacity:.7}.formControl[_ngcontent-%COMP%]{border:2px solid #d3d3d3;border-radius:7px;padding-left:1%!important;background-color:#fff}h1[_ngcontent-%COMP%]{color:#fff;font-size:50px}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-weight:700}h3[_ngcontent-%COMP%]{color:#fdfdfd}#regBtn[_ngcontent-%COMP%]{--background:rgba(2,92,83,0.9);--color:#fff}#list[_ngcontent-%COMP%]{display:flex}"]}),t})()}];let u=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(b)],s.i]}),t})();var d=n("/Nyi");let p=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)},imports:[[o.b,i.e,r.M,u,i.k,d.MenuHeaderPageModule]]}),t})()},rawN:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n("hE1G"),i=n("lJxs"),r=n("fXoL"),s=n("I/3d"),a=n("CcaC"),c=n("QNcV");let l=(()=>{class t{constructor(t,e,n){this.afs=t,this.userService=e,this.authService=n,this.shipmentCollection=t.collection("shipment")}static prepare(t){const e=Object.assign({},t);return delete e.id,e.start=e.start||null,e.goal=e.goal||null,e.date=e.date||null,e.length=e.length||null,e.height=e.height||null,e.weight=e.weight||null,e.pricePerKg=e.pricePerKg||null,e.seat=e.seat||null,e.cargonaut=e.cargonaut||null,e.pricePerSeat=e.pricePerSeat||null,e.vehicle=e.vehicle||null,e.articleList=e.articleList||null,e.passengerList=e.passengerList||null,e.startTime=e.startTime||null,e.status=e.status||null,e}persist(e,n,i,r,s,a,c,l,h,b,u,d,p,g,m){const f=new o.a(e,n,i,r,s,a,c,l,h,b,u,d,p,g,m);return this.shipmentCollection.add(t.prepare(f))}update(e,n,i,r,s,a,c,l,h,b,u,d,p,g,m,f){const O=new o.a(e,n,i,r,s,a,c,l,h,b,u,d,p,g,m,f);return this.shipmentCollection.doc(O.id).update(t.prepare(O))}delete(t){this.shipmentCollection.doc(t).delete()}getShipment(t){return this.shipmentCollection.doc(t).get().pipe(Object(i.a)(t=>{const e=t.data();return e.id=t.id,Object.assign({},e)}))}testAll(){return this.shipmentCollection.snapshotChanges().pipe(Object(i.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,Object.assign({},e)})))}testQuery(){return this.afs.collection("shipment",t=>t.where("seat",">=",1).where("goal","==","Warschau").where("start","==","Berlin").where("date","==","1933-02-04")).snapshotChanges().pipe(Object(i.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,Object.assign({},e)})))}searchRoute(t,e,n,o){return this.afs.collection("shipment",i=>i.where("seat",">=",t).where("goal","==",n).where("start","==",e).where("date","==",o)).snapshotChanges().pipe(Object(i.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,Object.assign({},e)})))}searchTransport(t,e,n,o,r){return this.afs.collection("shipment",o=>o.where("start","==",t).where("goal","==",e).where("weight",">=",n)).snapshotChanges().pipe(Object(i.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,Object.assign({},e)})))}searchBoth(t,e,n,o){return this.afs.collection("shipment",i=>i.where("start","==",t).where("goal","==",e).where("date","==",n).where("seat",">=",o)).snapshotChanges().pipe(Object(i.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,Object.assign({},e)})))}getShipments(t){return this.afs.collection("shipment",e=>e.where("cargonaut","==",t)).snapshotChanges().pipe(Object(i.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,Object.assign({},e)})))}orderQuery(t){return this.afs.collection("shipment",e=>e.orderBy(t)).snapshotChanges().pipe(Object(i.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,Object.assign({},e)})))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(s.a),r.Tb(a.a),r.Tb(c.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);