function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{QNcV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),o=n("UbJi"),r=n("CcaC"),a=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.auth=t,this.userservice=n}return _createClass(e,[{key:"register",value:function(e){var t=this;return new Promise((function(n,i){t.auth.createUserWithEmailAndPassword(e.email,e.password).then((function(i){n(i),t.userservice.persist(i.user.uid,e.title,e.fname,e.lname,e.street,e.housenumber,e.postalcode,e.city,e.email)}),(function(e){return i(e)}))}))}},{key:"login",value:function(e){var t=this;return new Promise((function(n,i){t.auth.signInWithEmailAndPassword(e.email,e.password).then((function(e){return n(e)}),(function(e){return i(e)}))}))}},{key:"checkAuthState",value:function(){return this.auth.authState}},{key:"SignOut",value:function(){return this.auth.signOut()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.a),i.Tb(r.a))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},UEad:function(e,t,n){"use strict";n.r(t),n.d(t,"TransportSearchPageModule",(function(){return I}));var i=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),a=n("tyNb"),c=function(){function e(t,n,i,o,r,a,c){_classCallCheck(this,e),this.name=t,this.pallet=n,this.amount=i,this.height=o,this.width=r,this.fragile=a,this.weight=c}return _createClass(e,[{key:"client",get:function(){return this._client},set:function(e){this._client=e}}]),e}(),s=n("fXoL"),l=n("rawN"),u=n("B1tq");function b(e,t){if(1&e){var n=s.Qb();s.Pb(0,"ion-button",30),s.Xb("click",(function(){return s.jc(n),s.Zb().navigateToLogin()})),s.nc(1,"Login"),s.Ob()}}function h(e,t){if(1&e){var n=s.Qb();s.Pb(0,"ion-button",31),s.Xb("click",(function(){return s.jc(n),s.Zb().navigateToRegister()})),s.nc(1,"Registieren"),s.Ob()}}function d(e,t){1&e&&s.Lb(0,"ion-menu-button",32)}function p(e,t){if(1&e&&(s.Pb(0,"div",34),s.nc(1),s.Ob()),2&e){var n=s.Zb().$implicit;s.Ab(1),s.pc(" ",n.message," ")}}function f(e,t){if(1&e&&(s.Nb(0),s.mc(1,p,2,1,"div",33),s.Mb()),2&e){var n=t.$implicit,i=s.Zb();s.Ab(1),s.ec("ngIf",i.validationsForm.get("postalcode").hasError(n.type)&&(i.validationsForm.get("postalcode").dirty||i.validationsForm.get("postalcode").touched))}}function g(e,t){if(1&e&&(s.Pb(0,"div",34),s.nc(1),s.Ob()),2&e){var n=s.Zb().$implicit;s.Ab(1),s.pc(" ",n.message," ")}}function m(e,t){if(1&e&&(s.Nb(0),s.mc(1,g,2,1,"div",33),s.Mb()),2&e){var n=t.$implicit,i=s.Zb();s.Ab(1),s.ec("ngIf",i.validationsForm.get("postalcode").hasError(n.type)&&(i.validationsForm.get("postalcode").dirty||i.validationsForm.get("postalcode").touched))}}function v(e,t){if(1&e&&(s.Pb(0,"div",34),s.nc(1),s.Ob()),2&e){var n=s.Zb().$implicit;s.Ab(1),s.pc(" ",n.message," ")}}function O(e,t){if(1&e&&(s.Nb(0),s.mc(1,v,2,1,"div",33),s.Mb()),2&e){var n=t.$implicit,i=s.Zb();s.Ab(1),s.ec("ngIf",i.validationsForm.get("postalcode").hasError(n.type)&&(i.validationsForm.get("postalcode").dirty||i.validationsForm.get("postalcode").touched))}}function P(e,t){if(1&e&&(s.Pb(0,"div",34),s.nc(1),s.Ob()),2&e){var n=s.Zb().$implicit;s.Ab(1),s.pc(" ",n.message," ")}}function w(e,t){if(1&e&&(s.Nb(0),s.mc(1,P,2,1,"div",33),s.Mb()),2&e){var n=t.$implicit,i=s.Zb();s.Ab(1),s.ec("ngIf",i.validationsForm.get("postalcode").hasError(n.type)&&(i.validationsForm.get("postalcode").dirty||i.validationsForm.get("postalcode").touched))}}function y(e,t){if(1&e&&(s.Pb(0,"div",34),s.nc(1),s.Ob()),2&e){var n=s.Zb().$implicit;s.Ab(1),s.pc(" ",n.message," ")}}function C(e,t){if(1&e&&(s.Nb(0),s.mc(1,y,2,1,"div",33),s.Mb()),2&e){var n=t.$implicit,i=s.Zb();s.Ab(1),s.ec("ngIf",i.validationsForm.get("postalcode").hasError(n.type)&&(i.validationsForm.get("postalcode").dirty||i.validationsForm.get("postalcode").touched))}}var A,k,L,S=[{path:"",component:(A=function(){function e(t,n,i){_classCallCheck(this,e),this.router=t,this.formBuilder=n,this.shipmentService=i,this.errorMessage="",this.successMessage="",this.shipmentList=[],this.VALIDATION_MESSAGES={postalCode:[{type:"required",message:"Postleitzahl ist erforderlich."},{type:"minlength",message:"Postleitzahl muss mindestens 5 Zahlen enthalten"}],datum:[{type:"required",message:"Datum ist erforderlich."}]}}return _createClass(e,[{key:"ngOnInit",value:function(){this.validationsForm=this.formBuilder.group({postalcode:new o.b("",o.m.compose([o.m.minLength(5),o.m.required])),startAddress:new o.b(""),toAddress:new o.b(""),article:new o.b(""),weight:new o.b(""),height:new o.b(""),length:new o.b(""),pallet:new o.b(!1),fragile:new o.b(!1)})}},{key:"search",value:function(e){var t=this;console.log("search called"),console.log("Start Address "+e.startAddress+" toAddress "+e.toAddress+" Article "+e.article+" weight "+e.weight+" height "+e.height+" length "+e.length),this.shipmentService.searchTransport(e.startAddress,e.toAddress,+e.weight,+e.height,+e.length).forEach((function(n){t.shipmentList=n,t.article=new c(e.article,t.pallet,1,e.height,e.width,t.fragile,e.weight),console.log(t.article.weight),t.router.navigate(["/search-result"],{state:{shipmentList:t.shipmentList,article:t.article}}),console.log(n)}))}},{key:"navigateToLogin",value:function(){this.router.navigate(["/login"])}},{key:"navigateToRegister",value:function(){this.router.navigate(["/register"])}},{key:"navigateToHome",value:function(){this.router.navigate(["/home"])}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}(),A.\u0275fac=function(e){return new(e||A)(s.Kb(a.g),s.Kb(o.a),s.Kb(l.a))},A.\u0275cmp=s.Eb({type:A,selectors:[["app-transport-search"]],decls:84,vars:11,consts:[["id","main-content",1,"ion-page"],["src","assets/CargoLogo.PNG",3,"click"],["slot","primary"],[3,"click",4,"ngIf"],["id","regBtn",3,"click",4,"ngIf"],["auto-hide","false",4,"ngIf"],["id","ion-content"],[1,"form",3,"formGroup","ngSubmit"],[1,"heading"],["size","2"],[1,"formRow"],["size","3"],[2,"opacity","revert"],[1,"formControl"],["type","text","required","","placeholder","Stadt, PLZ","formControlName","startAddress"],[1,"validation-errors"],[4,"ngFor","ngForOf"],[2,"opacity","1"],["type","text","required","","placeholder","Stadt, PLZ","formControlName","toAddress"],["type","text","required","","placeholder","Piano, Tisch, Eurpalette... etc.","formControlName","article"],["opacity","1"],["type","number","required","","placeholder","Gewicht in kg","formControlName","weight"],["type","text","required","","placeholder","H\xf6he","formControlName","height"],["type","text","required","","placeholder","Breite","formControlName","length"],[1,"text"],["color","primary","formControlName","pallet",3,"ngModel","ionChange"],["color","primary","formControlName","fragile",3,"ngModel","ionChange"],["size","5"],["expand","block","type","submit",1,"submit-btn"],["size","4"],[3,"click"],["id","regBtn",3,"click"],["auto-hide","false"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(e,t){1&e&&(s.Lb(0,"app-menu-header"),s.Pb(1,"div",0),s.Pb(2,"ion-header"),s.Pb(3,"ion-toolbar"),s.Pb(4,"img",1),s.Xb("click",(function(){return t.navigateToHome()})),s.Ob(),s.Pb(5,"ion-buttons",2),s.mc(6,b,2,0,"ion-button",3),s.mc(7,h,2,0,"ion-button",4),s.mc(8,d,1,0,"ion-menu-button",5),s.Ob(),s.Ob(),s.Ob(),s.Pb(9,"ion-content",6),s.Pb(10,"ion-grid"),s.Pb(11,"form",7),s.Xb("ngSubmit",(function(){return t.search(t.validationsForm.value)})),s.Pb(12,"ion-row",8),s.Lb(13,"ion-col",9),s.Pb(14,"ion-col"),s.Pb(15,"h1"),s.nc(16,"Art des Transports ausw\xe4hlen"),s.Ob(),s.Ob(),s.Lb(17,"ion-col",9),s.Ob(),s.Pb(18,"ion-row",10),s.Lb(19,"ion-col",11),s.Pb(20,"ion-col"),s.Pb(21,"ion-row"),s.Pb(22,"ion-col"),s.Pb(23,"ion-row"),s.Pb(24,"h3",12),s.nc(25,"von:"),s.Ob(),s.Ob(),s.Pb(26,"ion-row",13),s.Lb(27,"ion-input",14),s.Pb(28,"div",15),s.mc(29,f,2,1,"ng-container",16),s.Ob(),s.Ob(),s.Ob(),s.Pb(30,"ion-col"),s.Pb(31,"ion-row"),s.Pb(32,"h3",17),s.nc(33,"nach:"),s.Ob(),s.Ob(),s.Pb(34,"ion-row",13),s.Lb(35,"ion-input",18),s.Pb(36,"div",15),s.mc(37,m,2,1,"ng-container",16),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(38,"ion-row"),s.Pb(39,"ion-col"),s.Pb(40,"ion-row"),s.Pb(41,"h3",17),s.nc(42,"Zu liefernder Artikel:"),s.Ob(),s.Ob(),s.Pb(43,"ion-row",13),s.Lb(44,"ion-input",19),s.Pb(45,"div",15),s.mc(46,O,2,1,"ng-container",16),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(47,"ion-row"),s.Pb(48,"ion-col"),s.Pb(49,"ion-row"),s.Pb(50,"h3",20),s.nc(51,"Gewicht der Lieferung:"),s.Ob(),s.Ob(),s.Pb(52,"ion-row",13),s.Lb(53,"ion-input",21),s.Ob(),s.Ob(),s.Ob(),s.Pb(54,"ion-row"),s.Pb(55,"ion-col"),s.Pb(56,"ion-row"),s.Pb(57,"h3",12),s.nc(58,"Ma\xdfe der Lieferung"),s.Ob(),s.Ob(),s.Pb(59,"ion-row"),s.Pb(60,"ion-col",13),s.Lb(61,"ion-input",22),s.Pb(62,"div",15),s.mc(63,w,2,1,"ng-container",16),s.Ob(),s.Ob(),s.Pb(64,"ion-col",13),s.Lb(65,"ion-input",23),s.Pb(66,"div",15),s.mc(67,C,2,1,"ng-container",16),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(68,"ion-row"),s.Pb(69,"ion-col"),s.Pb(70,"ion-label",24),s.nc(71,"zerbrechlich"),s.Ob(),s.Pb(72,"ion-checkbox",25),s.Xb("ionChange",(function(){return t.pallet})),s.Ob(),s.Ob(),s.Pb(73,"ion-col"),s.Pb(74,"ion-label",24),s.nc(75,"stapelbar"),s.Ob(),s.Pb(76,"ion-checkbox",26),s.Xb("ionChange",(function(){return t.fragile})),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Lb(77,"ion-col",11),s.Ob(),s.Pb(78,"ion-row"),s.Lb(79,"ion-col",27),s.Pb(80,"ion-col",9),s.Pb(81,"ion-button",28),s.nc(82,"Cargonaut finden!"),s.Ob(),s.Ob(),s.Lb(83,"ion-col",29),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&e&&(s.Ab(6),s.ec("ngIf",!t.user),s.Ab(1),s.ec("ngIf",!t.user),s.Ab(1),s.ec("ngIf",t.user),s.Ab(3),s.ec("formGroup",t.validationsForm),s.Ab(18),s.ec("ngForOf",t.VALIDATION_MESSAGES.postalCode),s.Ab(8),s.ec("ngForOf",t.VALIDATION_MESSAGES.postalCode),s.Ab(9),s.ec("ngForOf",t.VALIDATION_MESSAGES.postalCode),s.Ab(17),s.ec("ngForOf",t.VALIDATION_MESSAGES.postalCode),s.Ab(4),s.ec("ngForOf",t.VALIDATION_MESSAGES.postalCode),s.Ab(5),s.ec("ngModel",t.pallet),s.Ab(4),s.ec("ngModel",t.fragile))},directives:[u.a,r.t,r.L,r.i,i.j,r.q,r.s,o.n,o.i,o.d,r.F,r.p,r.v,r.V,o.l,o.h,o.c,i.i,r.R,r.x,r.n,r.b,r.h,r.B],styles:["img[_ngcontent-%COMP%]{margin-top:8px;margin-left:15px;margin-bottom:8px;height:57px}h1[_ngcontent-%COMP%]{color:#fff;font-size:60px}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-weight:700}h3[_ngcontent-%COMP%]{color:#fdfdfd}#ion-content[_ngcontent-%COMP%]{--background:url(/assets/Transportart.jpg) no-repeat center/cover}.formRow[_ngcontent-%COMP%]{background:#000;border-radius:20px;margin-left:400px;margin-right:400px;opacity:.7}.formControl[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #d3d3d3;border-radius:7px;padding-left:1%!important}[_ngcontent-%COMP%]:root{--ion-safe-area-top:20px;--ion-safe-area-bottom:22px}.text[_ngcontent-%COMP%]{color:#fff}#regBtn[_ngcontent-%COMP%]{--color:#fff;--background:rgba(2,92,83,0.9)}"]}),A)}],_=((k=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ib({type:k}),k.\u0275inj=s.Hb({factory:function(e){return new(e||k)},imports:[[a.i.forChild(S)],a.i]}),k),M=n("/Nyi"),I=((L=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ib({type:L}),L.\u0275inj=s.Hb({factory:function(e){return new(e||L)},imports:[[i.b,o.e,r.M,_,o.k,M.MenuHeaderPageModule]]}),L)},hE1G:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function e(t,n,i,o,r,a,c,s,l,u,b,h,d,p,f,g){_classCallCheck(this,e),this.start=r,this.goal=a,this.date=c,this.startTime=s,this.length=l,this.height=u,this.weight=b,this.pricePerKg=h,this.seat=d,this.pricePerSeat=p,this.cargonaut=t,this.vehicle=n,this.passengerList=i,this.articleList=o,this.id=g,this.status=f}},rawN:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("hE1G"),o=n("lJxs"),r=n("fXoL"),a=n("I/3d"),c=n("CcaC"),s=n("QNcV"),l=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.afs=t,this.userService=n,this.authService=i,this.shipmentCollection=t.collection("shipment")}return _createClass(e,[{key:"persist",value:function(t,n,o,r,a,c,s,l,u,b,h,d,p,f,g){var m=new i.a(t,n,o,r,a,c,s,l,u,b,h,d,p,f,g);return this.shipmentCollection.add(e.prepare(m))}},{key:"update",value:function(t,n,o,r,a,c,s,l,u,b,h,d,p,f,g,m){var v=new i.a(t,n,o,r,a,c,s,l,u,b,h,d,p,f,g,m);return this.shipmentCollection.doc(v.id).update(e.prepare(v))}},{key:"delete",value:function(e){this.shipmentCollection.doc(e).delete()}},{key:"getShipment",value:function(e){return this.shipmentCollection.doc(e).get().pipe(Object(o.a)((function(e){var t=e.data();return t.id=e.id,Object.assign({},t)})))}},{key:"testAll",value:function(){return this.shipmentCollection.snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"testQuery",value:function(){return this.afs.collection("shipment",(function(e){return e.where("seat",">=",1).where("goal","==","Warschau").where("start","==","Berlin").where("date","==","1933-02-04")})).snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"searchRoute",value:function(e,t,n,i){return this.afs.collection("shipment",(function(o){return o.where("seat",">=",e).where("goal","==",n).where("start","==",t).where("date","==",i)})).snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"searchTransport",value:function(e,t,n,i,r){return this.afs.collection("shipment",(function(i){return i.where("start","==",e).where("goal","==",t).where("weight",">=",n)})).snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"searchBoth",value:function(e,t,n,i){return this.afs.collection("shipment",(function(o){return o.where("start","==",e).where("goal","==",t).where("date","==",n).where("seat",">=",i)})).snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"getShipments",value:function(e){return this.afs.collection("shipment",(function(t){return t.where("cargonaut","==",e)})).snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"orderQuery",value:function(e){return this.afs.collection("shipment",(function(t){return t.orderBy(e)})).snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}}],[{key:"prepare",value:function(e){var t=Object.assign({},e);return delete t.id,t.start=t.start||null,t.goal=t.goal||null,t.date=t.date||null,t.length=t.length||null,t.height=t.height||null,t.weight=t.weight||null,t.pricePerKg=t.pricePerKg||null,t.seat=t.seat||null,t.cargonaut=t.cargonaut||null,t.pricePerSeat=t.pricePerSeat||null,t.vehicle=t.vehicle||null,t.articleList=t.articleList||null,t.passengerList=t.passengerList||null,t.startTime=t.startTime||null,t.status=t.status||null,t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(a.a),r.Tb(c.a),r.Tb(s.a))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);