language: node_js
node_js:
- 14.1.0
addons:
  chrome: stable
before_install:
- google-chrome-stable --headless --disable-gpu --remote-debugging-port=9222 http://localhost
  &
cache:
  directories:
  - "./node_modules"
before_script:
  — npm install -g ionic — npm ci
  - npm install -g firebase-tools
  - npm install -g @angular/cli
jobs:
  include:
  - stage: build
    script: ionic build --prod -- --base-href ./
  - stage: test
    script: npm run test
after_success:
- firebase deploy --project mycargonaut-7e61b --token $FIREBASE_TOKEN
deploy:
- provider: pages
  skip_cleanup: true
  github_token: "$GITHUB_TOKEN"
  keep-history: true
  local_dir: www
- provider: firebase
  skip_cleanup: true
  token:
    secure: "$FIREBASE_TOKEN"
env:
  global:
    secure: IQ2r1uaBgFvRONY/yzOcCMok/r4OGH5mvDPDh2RFoBSWbFc9ZRNdhD3mB1N7HZpftF2j+f1aJxxR4xClhnKkeh31ZmoTrHOwdoJNgsxYI6I9W46HP3tkyDdUNMgQOmYr/cXULfP8MxAwGY1cXc74bFp+TXc+lMgChhoO2x3rYAes3cebW2x7cO23Ks88keCZUoWcCCJH86z0tiNN+EA9dnWB4P9rOFJEorJLG1Op2h95emWSWH1m0QyL98MFONxIpFZnZ9nUaVTBXf29fdeLzLZ9t08tieCO3OGI+vZaPD08fjMv4ZD0QWzPJcOzBEXiDB7jxoFOEk8Lqzd5ZIts2us98dhIqoP80VRwXaA6lSz+EGtrANEQiF5AXpqchIamsBCEprd6HZBCTPo+ssqxgVVan6c5xLOdS7WXHhT7GsYELPhWPfijednLTIDVm3Fxppg70vrWUE9KF+LoyaBvECu7Xg8m3owZExH5sKTCFYAL8Dk2B41Q4Zdq0BE3xd+03oOetAkTWjFNyDxA7FuwV65JQVTUkz8j51yMUN55nT7mX5PMsyB+bFLE9rt9WuhUNmpeQrIq1t9kLprcnGBY7+AivA5Qhfjz82T34Y/GTCh2eFwPh2l8ZKU0Ao11SkmGP5J4ajWT/FS5OuG3EmqA/bPM/U7sBywo2/439DvSV38=
