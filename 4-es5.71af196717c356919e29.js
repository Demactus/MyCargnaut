function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+vhm":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),a=n("hE1G"),r=n("fXoL"),o=n("TEn/"),s=n("QNcV"),c=n("rawN"),l=n("CcaC"),u=n("5jbV"),h=n("3Pt+"),d=n("ofXK");function b(e,t){if(1&e&&(r.Pb(0,"ion-select-option",11),r.nc(1),r.Ob()),2&e){var n=t.$implicit;r.fc("value",n.licensePlate),r.Ab(1),r.pc(" ",n.licensePlate," ")}}var p=function(){var e=function(){function e(t,n,i,a,r,o,s){_classCallCheck(this,e),this.modalController=t,this.navParams=n,this.toastController=i,this.authService=a,this.shipmentService=r,this.userService=o,this.vehicleService=s}return _createClass(e,[{key:"setUserId",value:function(){var e=this;this.authService.checkAuthState().subscribe((function(t){t&&(e.currentID=t.uid,console.log("Eingeloggt als: "+e.currentID),e.cargonaut=e.currentID,e.getVehicles(e.currentID))}))}},{key:"ngOnInit",value:function(){this.setUserId(),console.log("Aktuell eingeloggt als:"+this.cargonaut)}},{key:"getVehicles",value:function(e){var t=this;this.vehicles=[],this.vehicleService.findAll(e).subscribe((function(e){t.vehicles=e}))}},{key:"getSelectValue",value:function(e){var t=this;this.vehicles.forEach((function(n){e.detail.value===n.licensePlate&&(t.selectedVehicle=n)}))}},{key:"presentToast",value:function(e){return Object(i.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({message:e,duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"saveModal",value:function(){if(void 0===this.selectedVehicle)this.presentToast("Please select a Vehicle.");else{var e=new a.a(this.cargonaut,this.selectedVehicle,this.passengerList,this.articleList,this.start,this.goal,this.date,this.startTime,this.length,this.height,this.weight,this.pricePerKg,this.seat,this.pricePerSeat);console.log(e),this.start&&this.goal&&this.date&&this.length&&this.height&&this.weight&&this.pricePerKg&&this.seat&&this.pricePerSeat&&this.cargonaut?(this.shipmentService.persist(this.cargonaut,this.selectedVehicle,this.passengerList,this.articleList,this.start,this.goal,this.date,this.startTime,this.length,this.height,this.weight,this.pricePerKg,this.seat,this.pricePerSeat,0),this.closeModal(),this.presentToast("added Delivery")):this.presentToast("fuck")}}},{key:"closeModal",value:function(){return Object(i.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.dismiss("Wrapped Up!");case 2:case"end":return e.stop()}}),e,this)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Kb(o.P),r.Kb(o.Q),r.Kb(o.W),r.Kb(s.a),r.Kb(c.a),r.Kb(l.a),r.Kb(u.a))},e.\u0275cmp=r.Eb({type:e,selectors:[["app-modal-delivery"]],decls:62,vars:11,consts:[["color","dark"],["color","dark",1,"ion-padding"],["size","6"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["type","date",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",3,"ngModel","ngModelChange"],["color","success",3,"click"],["color","danger",3,"click"],[3,"value"]],template:function(e,t){1&e&&(r.Pb(0,"ion-header"),r.Pb(1,"ion-toolbar",0),r.Pb(2,"ion-title"),r.nc(3,"Neue Lieferung hinzuf\xfcgen"),r.Ob(),r.Ob(),r.Ob(),r.Pb(4,"ion-content",1),r.Pb(5,"ion-row"),r.Pb(6,"ion-col",2),r.Pb(7,"ion-item",0),r.Pb(8,"ion-label",3),r.nc(9,"von"),r.Ob(),r.Pb(10,"ion-input",4),r.Xb("ngModelChange",(function(e){return t.start=e})),r.Ob(),r.Ob(),r.Ob(),r.Pb(11,"ion-col",2),r.Pb(12,"ion-item",0),r.Pb(13,"ion-label",3),r.nc(14,"nach"),r.Ob(),r.Pb(15,"ion-input",4),r.Xb("ngModelChange",(function(e){return t.goal=e})),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(16,"ion-item",0),r.Pb(17,"ion-label"),r.nc(18,"Datum"),r.Ob(),r.Pb(19,"ion-input",5),r.Xb("ngModelChange",(function(e){return t.date=e})),r.Ob(),r.Ob(),r.Pb(20,"ion-item",0),r.Pb(21,"ion-label",3),r.nc(22,"Fahrzeug"),r.Ob(),r.Pb(23,"ion-select",6),r.Xb("ngModelChange",(function(e){return t.selectedVehicle=e}))("ionChange",(function(e){return t.getSelectValue(e)})),r.mc(24,b,2,2,"ion-select-option",7),r.Ob(),r.Ob(),r.Pb(25,"ion-row"),r.Pb(26,"ion-col",2),r.Pb(27,"ion-item",0),r.Pb(28,"ion-label",3),r.nc(29,"verf\xfcgbare L\xe4nge in cm"),r.Ob(),r.Pb(30,"ion-input",8),r.Xb("ngModelChange",(function(e){return t.length=e})),r.Ob(),r.Ob(),r.Ob(),r.Pb(31,"ion-col",2),r.Pb(32,"ion-item",0),r.Pb(33,"ion-label",3),r.nc(34,"verf\xfcgbare H\xf6he in cm"),r.Ob(),r.Pb(35,"ion-input",8),r.Xb("ngModelChange",(function(e){return t.height=e})),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(36,"ion-row"),r.Pb(37,"ion-col",2),r.Pb(38,"ion-item",0),r.Pb(39,"ion-label",3),r.nc(40,"verf\xfcgbares Gewicht"),r.Ob(),r.Pb(41,"ion-input",8),r.Xb("ngModelChange",(function(e){return t.weight=e})),r.Ob(),r.Ob(),r.Ob(),r.Pb(42,"ion-col",2),r.Pb(43,"ion-item",0),r.Pb(44,"ion-label",3),r.nc(45,"\u20ac pro Kg"),r.Ob(),r.Pb(46,"ion-input",8),r.Xb("ngModelChange",(function(e){return t.pricePerKg=e})),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(47,"ion-row"),r.Pb(48,"ion-col",2),r.Pb(49,"ion-item",0),r.Pb(50,"ion-label",3),r.nc(51,"Sitzpl\xe4tze"),r.Ob(),r.Pb(52,"ion-input",8),r.Xb("ngModelChange",(function(e){return t.seat=e})),r.Ob(),r.Ob(),r.Ob(),r.Pb(53,"ion-col",2),r.Pb(54,"ion-item",0),r.Pb(55,"ion-label",3),r.nc(56,"\u20ac pro Sitzplatz"),r.Ob(),r.Pb(57,"ion-input",8),r.Xb("ngModelChange",(function(e){return t.pricePerSeat=e})),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(58,"ion-button",9),r.Xb("click",(function(){return t.saveModal()})),r.nc(59,"save"),r.Ob(),r.Pb(60,"ion-button",10),r.Xb("click",(function(){return t.closeModal()})),r.nc(61,"cancel"),r.Ob(),r.Ob()),2&e&&(r.Ab(10),r.ec("ngModel",t.start),r.Ab(5),r.ec("ngModel",t.goal),r.Ab(4),r.ec("ngModel",t.date),r.Ab(4),r.ec("ngModel",t.selectedVehicle),r.Ab(1),r.ec("ngForOf",t.vehicles),r.Ab(6),r.ec("ngModel",t.length),r.Ab(5),r.ec("ngModel",t.height),r.Ab(6),r.ec("ngModel",t.weight),r.Ab(5),r.ec("ngModel",t.pricePerKg),r.Ab(6),r.ec("ngModel",t.seat),r.Ab(5),r.ec("ngModel",t.pricePerSeat))},directives:[o.t,o.L,o.K,o.q,o.F,o.p,o.w,o.x,o.v,o.V,h.h,h.j,o.G,o.U,d.i,o.R,o.h,o.H],styles:[""]}),e}()},"581U":function(e,t,n){"use strict";n.r(t),n.d(t,"ModalDeliveryPageModule",(function(){return b}));var i,a,r=n("ofXK"),o=n("3Pt+"),s=n("TEn/"),c=n("tyNb"),l=n("+vhm"),u=n("fXoL"),h=[{path:"",component:l.a}],d=((a=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ib({type:a}),a.\u0275inj=u.Hb({factory:function(e){return new(e||a)},imports:[[c.i.forChild(h)],c.i]}),a),b=((i=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ib({type:i}),i.\u0275inj=u.Hb({factory:function(e){return new(e||i)},imports:[[r.b,o.e,s.M,d]]}),i)},"5jbV":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("lJxs"),a=n("wMo3"),r=n("fXoL"),o=n("I/3d"),s=n("CcaC"),c=n("QNcV"),l=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.afs=t,this.userService=n,this.authService=i,this.userCollection=t.collection("user")}return _createClass(e,[{key:"persist",value:function(t,n,i,r,o,s,c,l){var u=new a.a(t,n,i,r,o,s,c,l);return this.userCollection.doc(i).collection("vehicle").doc(u.licensePlate).set(e.prepare(u))}},{key:"update",value:function(t){this.userCollection.doc(t.holderId).collection("vehicle").doc(t.licensePlate).update(e.prepare(t))}},{key:"delete",value:function(e,t){this.userCollection.doc(t).collection("vehicle").doc(e.licensePlate).delete()}},{key:"getVehicle",value:function(e,t){return this.userCollection.doc(t).collection("vehicle").doc(e).get().pipe(Object(i.a)((function(e){var t=e.data();return t.licensePlate=e.id,Object.assign({},t)})))}},{key:"findAll",value:function(e){return this.userCollection.doc(e).collection("vehicle").snapshotChanges().pipe(Object(i.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.licensePlate=e.payload.doc.id,Object.assign({},t)}))})))}}],[{key:"prepare",value:function(e){var t=Object.assign({},e);return t.name=t.name||null,t.holderId=t.holderId||null,t.load=t.load||null,t.maxLoad=t.maxLoad||null,t.maxSeats=t.maxSeats||null,t.seats=t.seats||null,t.volume=t.volume||null,t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(o.a),r.Tb(s.a),r.Tb(c.a))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},QNcV:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),a=n("UbJi"),r=n("CcaC"),o=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.auth=t,this.userservice=n}return _createClass(e,[{key:"register",value:function(e){var t=this;return new Promise((function(n,i){t.auth.createUserWithEmailAndPassword(e.email,e.password).then((function(i){n(i),t.userservice.persist(i.user.uid,e.title,e.fname,e.lname,e.street,e.housenumber,e.postalcode,e.city,e.email)}),(function(e){return i(e)}))}))}},{key:"login",value:function(e){var t=this;return new Promise((function(n,i){t.auth.signInWithEmailAndPassword(e.email,e.password).then((function(e){return n(e)}),(function(e){return i(e)}))}))}},{key:"checkAuthState",value:function(){return this.auth.authState}},{key:"SignOut",value:function(){return this.auth.signOut()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(a.a),i.Tb(r.a))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},hE1G:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function e(t,n,i,a,r,o,s,c,l,u,h,d,b,p,f,g){_classCallCheck(this,e),this.start=r,this.goal=o,this.date=s,this.startTime=c,this.length=l,this.height=u,this.weight=h,this.pricePerKg=d,this.seat=b,this.pricePerSeat=p,this.cargonaut=t,this.vehicle=n,this.passengerList=i,this.articleList=a,this.id=g,this.status=f}},rawN:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("hE1G"),a=n("lJxs"),r=n("fXoL"),o=n("I/3d"),s=n("CcaC"),c=n("QNcV"),l=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.afs=t,this.userService=n,this.authService=i,this.shipmentCollection=t.collection("shipment")}return _createClass(e,[{key:"persist",value:function(t,n,a,r,o,s,c,l,u,h,d,b,p,f,g){var v=new i.a(t,n,a,r,o,s,c,l,u,h,d,b,p,f,g);return this.shipmentCollection.add(e.prepare(v))}},{key:"update",value:function(t,n,a,r,o,s,c,l,u,h,d,b,p,f,g,v){var m=new i.a(t,n,a,r,o,s,c,l,u,h,d,b,p,f,g,v);return this.shipmentCollection.doc(m.id).update(e.prepare(m))}},{key:"delete",value:function(e){this.shipmentCollection.doc(e).delete()}},{key:"getShipment",value:function(e){return this.shipmentCollection.doc(e).get().pipe(Object(a.a)((function(e){var t=e.data();return t.id=e.id,Object.assign({},t)})))}},{key:"testAll",value:function(){return this.shipmentCollection.snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"testQuery",value:function(){return this.afs.collection("shipment",(function(e){return e.where("seat",">=",1).where("goal","==","Warschau").where("start","==","Berlin").where("date","==","1933-02-04")})).snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"searchRoute",value:function(e,t,n,i){return this.afs.collection("shipment",(function(a){return a.where("seat",">=",e).where("goal","==",n).where("start","==",t).where("date","==",i)})).snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"searchTransport",value:function(e,t,n,i,r){return this.afs.collection("shipment",(function(i){return i.where("start","==",e).where("goal","==",t).where("weight",">=",n)})).snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"searchBoth",value:function(e,t,n,i){return this.afs.collection("shipment",(function(a){return a.where("start","==",e).where("goal","==",t).where("date","==",n).where("seat",">=",i)})).snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"getShipments",value:function(e){return this.afs.collection("shipment",(function(t){return t.where("cargonaut","==",e)})).snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"orderQuery",value:function(e){return this.afs.collection("shipment",(function(t){return t.orderBy(e)})).snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}}],[{key:"prepare",value:function(e){var t=Object.assign({},e);return delete t.id,t.start=t.start||null,t.goal=t.goal||null,t.date=t.date||null,t.length=t.length||null,t.height=t.height||null,t.weight=t.weight||null,t.pricePerKg=t.pricePerKg||null,t.seat=t.seat||null,t.cargonaut=t.cargonaut||null,t.pricePerSeat=t.pricePerSeat||null,t.vehicle=t.vehicle||null,t.articleList=t.articleList||null,t.passengerList=t.passengerList||null,t.startTime=t.startTime||null,t.status=t.status||null,t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(o.a),r.Tb(s.a),r.Tb(c.a))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},wMo3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function e(t,n,i,a,r,o,s,c){_classCallCheck(this,e),this.licensePlate=t,this.name=n,this.holderId=i,this.load=a,this.maxLoad=r,this.volume=o,this.seats=s,this.maxSeats=c}}}]);