function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{QNcV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),o=n("UbJi"),r=n("CcaC"),a=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.auth=t,this.userservice=n}return _createClass(e,[{key:"register",value:function(e){var t=this;return new Promise((function(n,i){t.auth.createUserWithEmailAndPassword(e.email,e.password).then((function(i){n(i),t.userservice.persist(i.user.uid,e.title,e.fname,e.lname,e.street,e.housenumber,e.postalcode,e.city,e.email)}),(function(e){return i(e)}))}))}},{key:"login",value:function(e){var t=this;return new Promise((function(n,i){t.auth.signInWithEmailAndPassword(e.email,e.password).then((function(e){return n(e)}),(function(e){return i(e)}))}))}},{key:"checkAuthState",value:function(){return this.auth.authState}},{key:"SignOut",value:function(){return this.auth.signOut()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.a),i.Tb(r.a))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},hE1G:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function e(t,n,i,o,r,a,s,c,u,l,h,b,d,p,f,g){_classCallCheck(this,e),this.start=r,this.goal=a,this.date=s,this.startTime=c,this.length=u,this.height=l,this.weight=h,this.pricePerKg=b,this.seat=d,this.pricePerSeat=p,this.cargonaut=t,this.vehicle=n,this.passengerList=i,this.articleList=o,this.id=g,this.status=f}},nrS2:function(e,t,n){"use strict";n.r(t),n.d(t,"DualSearchPageModule",(function(){return m}));var i,o,r,a=n("ofXK"),s=n("3Pt+"),c=n("TEn/"),u=n("tyNb"),l=n("fXoL"),h=n("I/3d"),b=n("rawN"),d=n("B1tq"),p=[{path:"",component:(i=function(){function e(t,n,i,o){_classCallCheck(this,e),this.router=t,this.firestore=n,this.formBuilder=i,this.shipmentService=o,this.errorMessage="",this.successMessage="",this.shipmentList=[],this.VALIDATION_MESSAGES={postalCode:[{type:"required",message:"Postleitzahl ist erforderlich."},{type:"minlength",message:"Postleitzahl muss mindestens 5 Zahlen enthalten"}],datum:[{type:"required",message:"Datum ist erforderlich."}]}}return _createClass(e,[{key:"ngOnInit",value:function(){this.validationsForm=this.formBuilder.group({seats:new s.b(""),startAddress:new s.b(""),toAddress:new s.b(""),date:new s.b(""),weight:new s.b("")})}},{key:"search",value:function(e){var t=this;console.log("search called"),this.shipmentService.searchBoth(e.startAddress,e.toAddress,e.date,e.seats).forEach((function(n){n.forEach((function(n){n.weight<=e.weight&&t.shipmentList.push(n)})),t.router.navigate(["search-result"],{state:{shipmentList:t.shipmentList}}),console.log(n)}))}},{key:"navigateToLogin",value:function(){this.router.navigate(["/login"])}},{key:"navigateToRegister",value:function(){this.router.navigate(["/register"])}},{key:"navigateToHome",value:function(){this.router.navigate(["/home"])}}]),e}(),i.\u0275fac=function(e){return new(e||i)(l.Kb(u.g),l.Kb(h.a),l.Kb(s.a),l.Kb(b.a))},i.\u0275cmp=l.Eb({type:i,selectors:[["app-dual-search"]],decls:74,vars:1,consts:[["id","main-content",1,"ion-page"],["src","assets/CargoLogo.PNG",3,"click"],["slot","primary"],[3,"click"],["id","regBtn",3,"click"],["auto-hide","false"],[1,"formRow"],["size","1"],[1,"form",3,"formGroup","ngSubmit"],["opacity","1"],[1,"formControl"],["placeholder","1","formControlName","seats"],["value","1"],["value","2"],["value","3"],["value","4"],[2,"opacity","revert"],["type","text","required","","placeholder","Stadt, PLZ","formControlName","startAddress"],["type","text","required","","placeholder","Stadt, PLZ","formControlName","toAddress"],["type","text","required","","placeholder","YYYY-MM-DD","formControlName","date"],["size","2"],["size","5"],["type","submit","expand","block",1,"submit-btn"],["size","4"]],template:function(e,t){1&e&&(l.Lb(0,"app-menu-header"),l.Pb(1,"div",0),l.Pb(2,"ion-header"),l.Pb(3,"ion-toolbar"),l.Pb(4,"img",1),l.Xb("click",(function(){return t.navigateToHome()})),l.Ob(),l.Pb(5,"ion-buttons",2),l.Pb(6,"ion-button",3),l.Xb("click",(function(){return t.navigateToLogin()})),l.nc(7,"Login"),l.Ob(),l.Pb(8,"ion-button",4),l.Xb("click",(function(){return t.navigateToRegister()})),l.nc(9,"Registieren"),l.Ob(),l.Lb(10,"ion-menu-button",5),l.Ob(),l.Ob(),l.Ob(),l.Pb(11,"ion-content"),l.Pb(12,"ion-row",6),l.Lb(13,"ion-col",7),l.Pb(14,"ion-col"),l.Pb(15,"form",8),l.Xb("ngSubmit",(function(){return t.search(t.validationsForm.value)})),l.Pb(16,"ion-row"),l.Pb(17,"ion-col"),l.Pb(18,"ion-row"),l.Pb(19,"h3",9),l.nc(20,"Anzahl:"),l.Ob(),l.Ob(),l.Pb(21,"ion-row",10),l.Pb(22,"ion-select",11),l.Pb(23,"ion-select-option",12),l.nc(24,"1"),l.Ob(),l.Pb(25,"ion-select-option",13),l.nc(26,"2"),l.Ob(),l.Pb(27,"ion-select-option",14),l.nc(28,"3"),l.Ob(),l.Pb(29,"ion-select-option",15),l.nc(30,"4"),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Lb(31,"ion-col",7),l.Pb(32,"ion-col"),l.Pb(33,"ion-row"),l.Pb(34,"h3",16),l.nc(35,"von:"),l.Ob(),l.Ob(),l.Pb(36,"ion-row",10),l.Lb(37,"ion-input",17),l.Ob(),l.Ob(),l.Lb(38,"ion-col",7),l.Pb(39,"ion-col"),l.Pb(40,"ion-row"),l.Pb(41,"h3",16),l.nc(42,"nach:"),l.Ob(),l.Ob(),l.Pb(43,"ion-row",10),l.Lb(44,"ion-input",18),l.Ob(),l.Ob(),l.Ob(),l.Pb(45,"ion-row"),l.Pb(46,"ion-col"),l.Pb(47,"ion-row"),l.Pb(48,"h3",16),l.nc(49,"Datum:"),l.Ob(),l.Ob(),l.Pb(50,"ion-row",10),l.Lb(51,"ion-input",19),l.Ob(),l.Ob(),l.Lb(52,"ion-col",20),l.Pb(53,"ion-col"),l.Pb(54,"ion-row"),l.Pb(55,"h3",9),l.nc(56,"Anzahl:"),l.Ob(),l.Ob(),l.Pb(57,"ion-row",10),l.Pb(58,"ion-select",11),l.Pb(59,"ion-select-option",12),l.nc(60,"1"),l.Ob(),l.Pb(61,"ion-select-option",13),l.nc(62,"2"),l.Ob(),l.Pb(63,"ion-select-option",14),l.nc(64,"3"),l.Ob(),l.Pb(65,"ion-select-option",15),l.nc(66,"4"),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Pb(67,"ion-row"),l.Lb(68,"ion-col",21),l.Pb(69,"ion-col",20),l.Pb(70,"ion-button",22),l.nc(71,"Angaben zu Objekt"),l.Ob(),l.Ob(),l.Lb(72,"ion-col",23),l.Ob(),l.Ob(),l.Ob(),l.Lb(73,"ion-col",7),l.Ob(),l.Ob(),l.Ob()),2&e&&(l.Ab(15),l.ec("formGroup",t.validationsForm))},directives:[d.a,c.t,c.L,c.i,c.h,c.B,c.q,c.F,c.p,s.n,s.i,s.d,c.G,c.U,s.h,s.c,c.H,c.v,c.V,s.l],styles:["img[_ngcontent-%COMP%]{margin-top:8px;margin-left:15px;margin-bottom:8px;height:57px}.formRow[_ngcontent-%COMP%]{background:#000;border-radius:20px;margin-left:60px;margin-right:60px;margin-top:30px;opacity:.7}.formControl[_ngcontent-%COMP%]{border:2px solid #d3d3d3;border-radius:7px;padding-left:1%!important;background-color:#fff}h1[_ngcontent-%COMP%]{color:#fff;font-size:50px}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-weight:700}h3[_ngcontent-%COMP%]{color:#fdfdfd}#regBtn[_ngcontent-%COMP%]{--background:rgba(2,92,83,0.9);--color:#fff}#list[_ngcontent-%COMP%]{display:flex}"]}),i)}],f=((o=function e(){_classCallCheck(this,e)}).\u0275mod=l.Ib({type:o}),o.\u0275inj=l.Hb({factory:function(e){return new(e||o)},imports:[[u.i.forChild(p)],u.i]}),o),g=n("/Nyi"),m=((r=function e(){_classCallCheck(this,e)}).\u0275mod=l.Ib({type:r}),r.\u0275inj=l.Hb({factory:function(e){return new(e||r)},imports:[[a.b,s.e,c.M,f,s.k,g.MenuHeaderPageModule]]}),r)},rawN:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("hE1G"),o=n("lJxs"),r=n("fXoL"),a=n("I/3d"),s=n("CcaC"),c=n("QNcV"),u=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.afs=t,this.userService=n,this.authService=i,this.shipmentCollection=t.collection("shipment")}return _createClass(e,[{key:"persist",value:function(t,n,o,r,a,s,c,u,l,h,b,d,p,f,g){var m=new i.a(t,n,o,r,a,s,c,u,l,h,b,d,p,f,g);return this.shipmentCollection.add(e.prepare(m))}},{key:"update",value:function(t,n,o,r,a,s,c,u,l,h,b,d,p,f,g,m){var v=new i.a(t,n,o,r,a,s,c,u,l,h,b,d,p,f,g,m);return this.shipmentCollection.doc(v.id).update(e.prepare(v))}},{key:"delete",value:function(e){this.shipmentCollection.doc(e).delete()}},{key:"getShipment",value:function(e){return this.shipmentCollection.doc(e).get().pipe(Object(o.a)((function(e){var t=e.data();return t.id=e.id,Object.assign({},t)})))}},{key:"testAll",value:function(){return this.shipmentCollection.snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"testQuery",value:function(){return this.afs.collection("shipment",(function(e){return e.where("seat",">=",1).where("goal","==","Warschau").where("start","==","Berlin").where("date","==","1933-02-04")})).snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"searchRoute",value:function(e,t,n,i){return this.afs.collection("shipment",(function(o){return o.where("seat",">=",e).where("goal","==",n).where("start","==",t).where("date","==",i)})).snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"searchTransport",value:function(e,t,n,i,r){return this.afs.collection("shipment",(function(i){return i.where("start","==",e).where("goal","==",t).where("weight",">=",n)})).snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"searchBoth",value:function(e,t,n,i){return this.afs.collection("shipment",(function(o){return o.where("start","==",e).where("goal","==",t).where("date","==",n).where("seat",">=",i)})).snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"getShipments",value:function(e){return this.afs.collection("shipment",(function(t){return t.where("cargonaut","==",e)})).snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"orderQuery",value:function(e){return this.afs.collection("shipment",(function(t){return t.orderBy(e)})).snapshotChanges().pipe(Object(o.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}}],[{key:"prepare",value:function(e){var t=Object.assign({},e);return delete t.id,t.start=t.start||null,t.goal=t.goal||null,t.date=t.date||null,t.length=t.length||null,t.height=t.height||null,t.weight=t.weight||null,t.pricePerKg=t.pricePerKg||null,t.seat=t.seat||null,t.cargonaut=t.cargonaut||null,t.pricePerSeat=t.pricePerSeat||null,t.vehicle=t.vehicle||null,t.articleList=t.articleList||null,t.passengerList=t.passengerList||null,t.startTime=t.startTime||null,t.status=t.status||null,t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(a.a),r.Tb(s.a),r.Tb(c.a))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);