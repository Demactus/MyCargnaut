function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{QNcV:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL"),a=n("UbJi"),r=n("CcaC"),s=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.auth=t,this.userservice=n}return _createClass(e,[{key:"register",value:function(e){var t=this;return new Promise((function(n,i){t.auth.createUserWithEmailAndPassword(e.email,e.password).then((function(i){n(i),t.userservice.persist(i.user.uid,e.title,e.fname,e.lname,e.street,e.housenumber,e.postalcode,e.city,e.email)}),(function(e){return i(e)}))}))}},{key:"login",value:function(e){var t=this;return new Promise((function(n,i){t.auth.signInWithEmailAndPassword(e.email,e.password).then((function(e){return n(e)}),(function(e){return i(e)}))}))}},{key:"checkAuthState",value:function(){return this.auth.authState}},{key:"SignOut",value:function(){return this.auth.signOut()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Tb(a.a),i.Tb(r.a))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},S9pY:function(e,t,n){"use strict";n.r(t),n.d(t,"PaymentChoicePageModule",(function(){return P}));var i,a,r,s=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),u=n("tyNb"),h=n("mrSG"),l=function e(t,n){_classCallCheck(this,e),this.amount=t,this.client=n},p=n("fXoL"),b=n("CcaC"),g=n("QNcV"),d=n("rawN"),f=n("B1tq"),m=[{path:"",component:(i=function(){function e(t,n,i,a,r,s){var o=this;_classCallCheck(this,e),this.userService=t,this.authService=n,this.router=i,this.toastController=a,this.route=r,this.shipmentService=s,this.route.queryParams.subscribe((function(e){o.router.getCurrentNavigation().extras.state&&(console.log(e),console.log(o.router.getCurrentNavigation().extras.state.shipment),o.shipment=o.router.getCurrentNavigation().extras.state.shipment,null!=o.router.getCurrentNavigation().extras.state.article&&(o.article=o.router.getCurrentNavigation().extras.state.article),console.log("Routing worked"+o.shipment))}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.authService.checkAuthState().subscribe((function(t){t&&e.userService.getUser(t.uid).subscribe((function(t){t&&(e.passenger=new l(1,t))}))}))}},{key:"setPaymentChoice",value:function(e){switch(this.currentPaymentChoice=e.detail.value,e.detail.value){case"0":this.presentToast("Sie bezahlen mit Vorkasse");break;case"1":this.presentToast("Sie bezahlen mit PayPal");break;case"2":this.presentToast("Sie bezahlen Bar")}console.log("radioGroupChange",this.currentPaymentChoice)}},{key:"presentToast",value:function(e){return Object(h.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({message:e,duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"pay",value:function(){null!=this.passenger?(this.shipment.passengerList.push(this.passenger),null!=this.article&&this.shipment.articleList.push(this.article),this.shipmentService.update(this.shipment.cargonaut,this.shipment.vehicle,this.shipment.passengerList,this.shipment.articleList,this.shipment.start,this.shipment.goal,this.shipment.date,this.shipment.startTime,this.shipment.length,this.shipment.height,this.shipment.weight,this.shipment.pricePerKg,this.shipment.seat,this.shipment.pricePerSeat,this.currentPaymentChoice,this.shipment.id),this.router.navigate(["/payment-success"],{state:{shipment:this.shipment}})):this.presentToast("Sie m\xfcssen eingeloggt sein um Routen zu buchen")}},{key:"navigateToLogin",value:function(){this.router.navigate(["/login"])}},{key:"navigateToRegister",value:function(){this.router.navigate(["/register"])}},{key:"navigateToHome",value:function(){this.router.navigate(["/home"])}}]),e}(),i.\u0275fac=function(e){return new(e||i)(p.Kb(b.a),p.Kb(g.a),p.Kb(u.g),p.Kb(c.W),p.Kb(u.a),p.Kb(d.a))},i.\u0275cmp=p.Eb({type:i,selectors:[["app-payment-choice"]],inputs:{shipment:"shipment"},decls:50,vars:0,consts:[["id","main-content",1,"ion-page"],["src","assets/CargoLogo.PNG",3,"click"],["slot","primary"],["auto-hide","false"],["value","choice",3,"ionChange"],["lines","none"],[1,"ion-text-wrap"],[1,"subtitle"],["color","primary","slot","start","value","0"],["color","secondary","slot","start","value","1"],["id","paypalImg","src","assets/PayPal-Logo.png"],["color","warning","slot","start","value","2"],[3,"click"]],template:function(e,t){1&e&&(p.Lb(0,"app-menu-header"),p.Pb(1,"div",0),p.Pb(2,"ion-header"),p.Pb(3,"ion-toolbar"),p.Pb(4,"img",1),p.Xb("click",(function(){return t.navigateToHome()})),p.Ob(),p.Pb(5,"ion-buttons",2),p.Lb(6,"ion-menu-button",3),p.Ob(),p.Ob(),p.Ob(),p.Pb(7,"ion-content"),p.Pb(8,"ion-list"),p.Pb(9,"ion-radio-group",4),p.Xb("ionChange",(function(e){return t.setPaymentChoice(e)})),p.Pb(10,"ion-list-header"),p.Pb(11,"ion-label"),p.Pb(12,"h1"),p.nc(13,"Bezahlart:"),p.Ob(),p.Ob(),p.Ob(),p.Pb(14,"ion-item",5),p.Pb(15,"ion-label",6),p.Pb(16,"ion-text"),p.Pb(17,"h1"),p.nc(18,"Vorkasse"),p.Ob(),p.Pb(19,"p",7),p.nc(20,"Sie zahlen vorab und erhalten die Ware bequem und g\xfcnstig bei Zahlungseingang nach Hause geliefert."),p.Ob(),p.Ob(),p.Ob(),p.Lb(21,"ion-radio",8),p.Ob(),p.Pb(22,"ion-item",5),p.Lb(23,"ion-radio",9),p.Pb(24,"ion-label",6),p.Pb(25,"ion-text"),p.Pb(26,"h1"),p.nc(27,"PayPal"),p.Ob(),p.Lb(28,"img",10),p.Pb(29,"p",7),p.nc(30,"Bezahlung per PayPal - einfach, schnell und sicher"),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(31,"ion-item",5),p.Lb(32,"ion-radio",11),p.Pb(33,"ion-label",6),p.Pb(34,"ion-text"),p.Pb(35,"h1"),p.nc(36,"Barbezahlung"),p.Ob(),p.Pb(37,"p",7),p.nc(38,"Sie zahlen einfach beim Vereinbarten \xdcbergabepunkt"),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(39,"ion-grid"),p.Pb(40,"ion-row"),p.Lb(41,"ion-col"),p.Lb(42,"ion-col"),p.Pb(43,"ion-col"),p.Pb(44,"ion-button",12),p.Xb("click",(function(){return t.pay()})),p.Pb(45,"ion-text"),p.Pb(46,"p"),p.nc(47,"verpflichtend"),p.Ob(),p.Pb(48,"p"),p.nc(49,"verschicken"),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob())},directives:[f.a,c.t,c.L,c.i,c.B,c.q,c.y,c.D,c.U,c.z,c.x,c.w,c.I,c.C,c.T,c.s,c.F,c.p,c.h],styles:["img[_ngcontent-%COMP%]{margin-top:8px;margin-left:15px;margin-bottom:8px;height:57px}ion-list[_ngcontent-%COMP%]{margin-top:30px;margin-left:20px}h1[_ngcontent-%COMP%]{font-size:35px;font-weight:700;color:rgba(2,92,83,.9)}ion-item[_ngcontent-%COMP%]{margin-top:40px}.subtitle[_ngcontent-%COMP%]{font-weight:700;color:hsla(0,0%,45.9%,.93)}ion-button[_ngcontent-%COMP%]{height:60px;border-radius:8px!important}#paypalImg[_ngcontent-%COMP%]{margin-top:-8px;margin-bottom:-8px;height:90px}"]}),i)}],v=((a=function e(){_classCallCheck(this,e)}).\u0275mod=p.Ib({type:a}),a.\u0275inj=p.Hb({factory:function(e){return new(e||a)},imports:[[u.i.forChild(m)],u.i]}),a),y=n("/Nyi"),P=((r=function e(){_classCallCheck(this,e)}).\u0275mod=p.Ib({type:r}),r.\u0275inj=p.Hb({factory:function(e){return new(e||r)},imports:[[s.b,o.e,c.M,v,y.MenuHeaderPageModule]]}),r)},hE1G:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function e(t,n,i,a,r,s,o,c,u,h,l,p,b,g,d,f){_classCallCheck(this,e),this.start=r,this.goal=s,this.date=o,this.startTime=c,this.length=u,this.height=h,this.weight=l,this.pricePerKg=p,this.seat=b,this.pricePerSeat=g,this.cargonaut=t,this.vehicle=n,this.passengerList=i,this.articleList=a,this.id=f,this.status=d}},rawN:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("hE1G"),a=n("lJxs"),r=n("fXoL"),s=n("I/3d"),o=n("CcaC"),c=n("QNcV"),u=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.afs=t,this.userService=n,this.authService=i,this.shipmentCollection=t.collection("shipment")}return _createClass(e,[{key:"persist",value:function(t,n,a,r,s,o,c,u,h,l,p,b,g,d,f){var m=new i.a(t,n,a,r,s,o,c,u,h,l,p,b,g,d,f);return this.shipmentCollection.add(e.prepare(m))}},{key:"update",value:function(t,n,a,r,s,o,c,u,h,l,p,b,g,d,f,m){var v=new i.a(t,n,a,r,s,o,c,u,h,l,p,b,g,d,f,m);return this.shipmentCollection.doc(v.id).update(e.prepare(v))}},{key:"delete",value:function(e){this.shipmentCollection.doc(e).delete()}},{key:"getShipment",value:function(e){return this.shipmentCollection.doc(e).get().pipe(Object(a.a)((function(e){var t=e.data();return t.id=e.id,Object.assign({},t)})))}},{key:"testAll",value:function(){return this.shipmentCollection.snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"testQuery",value:function(){return this.afs.collection("shipment",(function(e){return e.where("seat",">=",1).where("goal","==","Warschau").where("start","==","Berlin").where("date","==","1933-02-04")})).snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"searchRoute",value:function(e,t,n,i){return this.afs.collection("shipment",(function(a){return a.where("seat",">=",e).where("goal","==",n).where("start","==",t).where("date","==",i)})).snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"searchTransport",value:function(e,t,n,i,r){return this.afs.collection("shipment",(function(i){return i.where("start","==",e).where("goal","==",t).where("weight",">=",n)})).snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"searchBoth",value:function(e,t,n,i){return this.afs.collection("shipment",(function(a){return a.where("start","==",e).where("goal","==",t).where("date","==",n).where("seat",">=",i)})).snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"getShipments",value:function(e){return this.afs.collection("shipment",(function(t){return t.where("cargonaut","==",e)})).snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}},{key:"orderQuery",value:function(e){return this.afs.collection("shipment",(function(t){return t.orderBy(e)})).snapshotChanges().pipe(Object(a.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return t.id=e.payload.doc.id,Object.assign({},t)}))})))}}],[{key:"prepare",value:function(e){var t=Object.assign({},e);return delete t.id,t.start=t.start||null,t.goal=t.goal||null,t.date=t.date||null,t.length=t.length||null,t.height=t.height||null,t.weight=t.weight||null,t.pricePerKg=t.pricePerKg||null,t.seat=t.seat||null,t.cargonaut=t.cargonaut||null,t.pricePerSeat=t.pricePerSeat||null,t.vehicle=t.vehicle||null,t.articleList=t.articleList||null,t.passengerList=t.passengerList||null,t.startTime=t.startTime||null,t.status=t.status||null,t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Tb(s.a),r.Tb(o.a),r.Tb(c.a))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);